<div *ngIf="servicio.id" class="edit-form">
  <form>

    <div class="container" *ngIf="showAdmin || showWorker">
      <!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Reportar Progreso</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="custom-control custom-radio">
          <input type="radio" class="custom-control-input" value="1" id="customRadio1" [(ngModel)]="bitacora.cotizacionId" name="opcionesCotizacion">
          <label class="custom-control-label" for="customRadio1">¿Están esperando refacciones?</label>
        </div>
        <div class="custom-control custom-radio">
          <input type="radio" class="custom-control-input" value="2" id="customRadio2" [(ngModel)]="bitacora.cotizacionId" name="opcionesCotizacion">
          <label class="custom-control-label" for="customRadio2">¿Están reparando/armando el vehículo?</label>
        </div>
        <div class="custom-control custom-radio">
          <input type="radio" class="custom-control-input" value="true" id="customRadio3" [(ngModel)]="bitacora.pruebas" name="opcionesCotizacion">
          <label class="custom-control-label" for="customRadio3">¿Están probando el vehículo?</label>
        </div>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="progreso()">Guardar</button>
      </div>
    </div>
  </div>
</div>
      <br>
      <div class="btn-toolbar justify-content-between">
        
      <h4>DETALLES DEL SERVICIO</h4>
        <button type="button" class="btn text-white" style="background-color: #FFE53B;
        background-image: linear-gradient(147deg, #FFE53B 0%, #FF2525 74%);
        " *ngIf="bitacora.cotizacionAuto" data-toggle="modal" data-target="#exampleModal">
          Añadir Progreso
        </button>
      </div>
      <br>
      <span class="badge badge-info" *ngIf="bitacora.cotizacionId==1">En espera de refacciones</span>
      <p *ngIf="bitacora.cotizacionId==1">Estado del carro: En espera de refacciones</p>

      <span class="badge badge-warning" *ngIf="bitacora.cotizacionId==2 && !bitacora.pruebas">En proceso de armado</span>
      <p *ngIf="bitacora.cotizacionId==2 && !bitacora.pruebas">Estado del carro: En proceso de armado</p>

      <span class="badge badge-success" *ngIf="bitacora.pruebas">En fase de pruebas</span>
      <p *ngIf="bitacora.pruebas">Estado del carro: En fase de pruebas</p>

      <div class="progress">
        <div *ngIf="bitacora.recepcion" class="progress-bar progress-bar-striped" role="progressbar" 
          [style.width.%]="20" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.chequeo" class="progress-bar progress-bar-striped bg-info" role="progressbar"
          [style.width.%]="20" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.cotizacionAuto" class="progress-bar progress-bar-striped bg-danger" role="progressbar"
          [style.width.%]="20" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.pruebas" class="progress-bar progress-bar-striped bg-warning" role="progressbar"
          [style.width.%]="20" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.terminado" class="progress-bar progress-bar-striped bg-success" role="progressbar"
          [style.width.%]="20" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      
      
      <div class="row" style="margin-left: 5%;">
        <div class="col">
           Recepción
        </div>
        <div class="col">
          Diagnóstico
        </div>
        <div class="col">
          Presupuesto
        </div>
        <div class="col">
          Reparación
        </div>
        <div class="col">
          Terminado
        </div>
      </div>

      <br><br>
      <h6>DATOS DE RECEPCIÓN</h6>
      <div class="btn-toolbar justify-content-end">
      <div *ngIf="!edit"><button class="btn btn-warning" (click)="editar()">Editar</button> </div>
      <div *ngIf="edit"><button class="btn btn-primary" (click)="cancelar()">Cancelar</button> </div>
    </div>
      <div class="row">
        <div class="col">
          Tanque de Gasolina: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.tanque}}"
              value="{{bitacora.tanque}}" id="tanque" [(ngModel)]="bitacora.tanque" name="tanque"> </div>
          <div *ngIf="!edit">{{bitacora.tanque}} </div> <br>
          Kilometraje: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.kilometraje}}"
              value="{{bitacora.kilometraje}}" id="kilometraje" [(ngModel)]="bitacora.kilometraje" name="kilometraje">
          </div>
          <div *ngIf="!edit">{{bitacora.kilometraje}} </div> <br>
          Llanta de refacción: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.llantaRefa}}"
              value="{{bitacora.llantaRefa}}" id="llantaRefa" [(ngModel)]="bitacora.llantaRefa" name="llantaRefa">
          </div>
          <div *ngIf="!edit">{{bitacora.llantaRefa}} </div> <br>
          Herramienta: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.herramienta}}"
              value="{{bitacora.herramienta}}" id="herramienta" [(ngModel)]="bitacora.herramienta" name="herramienta">
          </div>
          <div *ngIf="!edit">{{bitacora.herramienta}} </div> <br>
          Detalles: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.detalles}}"
              value="{{bitacora.detalles}}" id="detalles" [(ngModel)]="bitacora.detalles" name="detalles"> </div>
          <div *ngIf="!edit">{{bitacora.detalles}} </div> <br>

                </div>
        <div class="col">
          <h6>Cliente </h6>
          {{servicio.cliente}} <br>
          Folio de Servicio: {{servicio.id}} <br>
          Fecha: {{servicio.f_entrada | date: 'd/M/yyyy'}}  <br>
          Atendió: {{bitacora.mecanico}}
          <br><br>
          <h6>Descripción </h6>
          {{servicio.descripcion}}
        </div>
        <div class="col">
          <h6>Vehículo</h6>
          Marca: {{servicio.marca}} <br>
          Tipo: {{servicio.tipo}} <br>
          Color: {{servicio.color}} <br>
          Modelo: {{servicio.modelo}} <br>
          <br>
          <h6>Diagnóstico</h6>
          <div *ngIf="edit"><textarea class="form-control" rows="7" placeholder="{{bitacora.diagnostico}}" value="{{bitacora.diagnostico}}"
              id="diagnostico" [(ngModel)]="bitacora.diagnostico" name="diagnostico"> </textarea> </div>
          <div *ngIf="!edit">{{bitacora.diagnostico}} </div> <br>
        </div>
        
      </div>
      <div *ngIf="edit" class="btn-toolbar justify-content-end"><button class="btn btn-success" (click)="guardarCambios()">Guardar Cambios</button> </div>
 
    </div>

    <div class="container" *ngIf="showCliente">
      <br>
      <h4>DETALLES DEL SERVICIO</h4>
      <span class="badge badge-info" *ngIf="bitacora.cotizacionId==1">En espera de refacciones</span>
      <p *ngIf="bitacora.cotizacionId==1">Estado del carro: En espera de refacciones</p>

      <span class="badge badge-warning" *ngIf="bitacora.cotizacionId==2 && !bitacora.pruebas">En proceso de armado</span>
      <p *ngIf="bitacora.cotizacionId==2 && !bitacora.pruebas">Estado del carro: En proceso de armado</p>

      <span class="badge badge-success" *ngIf="bitacora.pruebas">En fase de pruebas</span>
      <p *ngIf="bitacora.pruebas">Estado del carro: En fase de pruebas</p>

      <div class="row">
        <div class="col" style="margin-left: 5%;">
          <img src="../../assets/alfilerBitacora.png" alt="" srcset="">
        </div>
        <div class="col">
          <img src="../../assets/alfilerBitacora.png" alt="" srcset="">
        </div>
        <div class="col">
          <img src="../../assets/alfilerBitacora.png" alt="" srcset="">
        </div>
        <div class="col">
          <img src="../../assets/alfilerBitacora.png" alt="" srcset="">
        </div>
        <div class="col">
          <img src="../../assets/alfilerBitacora.png" alt="" srcset="">
        </div>
      </div>
      <div class="progress">
        <div *ngIf="bitacora.recepcion" class="progress-bar progress-bar-striped" role="progressbar" 
          [style.width.%]="20" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.chequeo" class="progress-bar progress-bar-striped bg-info" role="progressbar"
          [style.width.%]="20" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.cotizacionAuto" class="progress-bar progress-bar-striped bg-danger" role="progressbar"
          [style.width.%]="20" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.pruebas" class="progress-bar progress-bar-striped bg-warning" role="progressbar"
          [style.width.%]="20" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
        <div *ngIf="bitacora.terminado" class="progress-bar progress-bar-striped bg-success" role="progressbar"
          [style.width.%]="20" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
      </div>
      
      
      <div class="row" style="margin-left: 5%;">
        <div class="col">
           Recepción
        </div>
        <div class="col">
          Diagnóstico
        </div>
        <div class="col">
          Presupuesto
        </div>
        <div class="col">
          Reparación
        </div>
        <div class="col">
          Terminado
        </div>
      </div>


      <br><br>
      <h6>DATOS DE RECEPCIÓN</h6>
      <div class="row">
        <div class="col">
          Tanque de Gasolina: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.tanque}}"
              value="{{bitacora.tanque}}" id="tanque" [(ngModel)]="bitacora.tanque" name="tanque"> </div>
          <div *ngIf="!edit">{{bitacora.tanque}} </div> <br>
          Kilometraje: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.kilometraje}}"
              value="{{bitacora.kilometraje}}" id="kilometraje" [(ngModel)]="bitacora.kilometraje" name="kilometraje">
          </div>
          <div *ngIf="!edit">{{bitacora.kilometraje}} </div> <br>
          Llanta de refacción: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.llantaRefa}}"
              value="{{bitacora.llantaRefa}}" id="llantaRefa" [(ngModel)]="bitacora.llantaRefa" name="llantaRefa">
          </div>
          <div *ngIf="!edit">{{bitacora.llantaRefa}} </div> <br>
          Herramienta: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.herramienta}}"
              value="{{bitacora.herramienta}}" id="herramienta" [(ngModel)]="bitacora.herramienta" name="herramienta">
          </div>
          <div *ngIf="!edit">{{bitacora.herramienta}} </div> <br>
          Detalles: <div *ngIf="edit"><input type="text" placeholder="{{bitacora.detalles}}"
              value="{{bitacora.detalles}}" id="detalles" [(ngModel)]="bitacora.detalles" name="detalles"> </div>
          <div *ngIf="!edit">{{bitacora.detalles}} </div> <br>

        </div>
        <div class="col">
          <h6>Cliente </h6>
          {{servicio.cliente}} <br>
          Folio de Servicio: {{servicio.id}} <br>
          Fecha: {{servicio.f_entrada | date: 'd/M/yyyy'}}  <br>
          Atendió: {{bitacora.mecanico}}
          <br><br>
          <h6>Descripción </h6>
          {{servicio.descripcion}}
        </div>
        <div class="col">
          <h6>Vehículo</h6>
          Marca: {{servicio.marca}} <br>
          Modelo: {{servicio.modelo}} <br>
          Placas: {{servicio.placas}} <br>
          Tipo: {{servicio.tipo}} <br>

          <br>
          <h6>Diagnóstico</h6>
          <div *ngIf="edit"><textarea class="form-control" rows="7" placeholder="{{bitacora.diagnostico}}" value="{{bitacora.diagnostico}}"
              id="diagnostico" [(ngModel)]="bitacora.diagnostico" name="diagnostico"> </textarea> </div>
          <div *ngIf="!edit">{{bitacora.diagnostico}} </div> <br>
        </div>
      </div>
    </div>
  </form>
</div>